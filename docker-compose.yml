version: "3"
services:
  backend:
    image: crazyhao/networkly-server
    container_name: networkly-backend
    ports:  
      - 5000:5000

  frontend:
    image: crazyhao/networkly-client
    container_name: networkly-frontend
    ports:
      - 8080:8080 

  # MySQL
  db:
    image: mysql
    command: --default-authentication-plugin=mysql_native_password
    restart: always
    environment:
        MYSQL_ROOT_PASSWORD: root
        MYSQL_DATABASE: mydb
        MYSQL_USER: user
        MYSQL_PASSWORD: user

    volumes: 
        - ./server/src/:/docker-entrypoint-initdb.d
  
  adminer:
      image: adminer
      restart: always
      ports:
          - 8543:8080